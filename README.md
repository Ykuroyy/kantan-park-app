# 駐車場かんたん管理アプリ 🚗

ホテルスタッフ向けの100台対応駐車場管理システムです。スマホカメラでナンバープレートを撮影・読み取りして、簡単に駐車記録を管理できます。

## 🎯 主な機能

### 📷 カメラ撮影・OCR機能
- スマホカメラでナンバープレートの連続撮影
- Tesseract.jsによる日本語ナンバープレート自動読み取り
- ファイルアップロードにも対応

### 🅿️ 駐車場リアルタイム管理
- 100台分の駐車スペースをリアルタイム表示
- 駐車時間による色分け表示
  - 🟦 空車（青色）
  - 🟡 24時間未満（黄色）
  - 🟠 24-48時間（オレンジ色）
  - 🔴 48時間以上（赤色）
- ワンクリックでチェックイン・チェックアウト

### 📊 履歴・レポート機能
- 駐車記録の一覧表示・検索
- 日付範囲での絞り込み
- ナンバープレート検索
- 駐車状態での絞り込み（駐車中/出庫済み）
- Excel形式での出力機能

## 🛠️ 技術構成

### フロントエンド
- **React** (TypeScript) - ユーザーインターフェース
- **Tesseract.js** - OCR（ナンバープレート読み取り）
- **Axios** - HTTP通信
- **CSS3** - レスポンシブデザイン

### バックエンド
- **Node.js** + **Express** - APIサーバー
- **SQLite3** - データベース
- **Multer** - ファイルアップロード
- **ExcelJS** - Excel出力

## 🚀 セットアップ・起動方法

### 1. 依存関係のインストール

```bash
# サーバー側
npm install

# クライアント側
cd client
npm install
cd ..
```

### 2. アプリケーション起動

```bash
# 同時起動（推奨）
npm run dev

# または個別起動
# サーバー側
npm run server

# クライアント側（別ターミナル）
npm run client
```

### 3. アクセス
- **クライアント**: http://localhost:3000
- **サーバーAPI**: http://localhost:3001

## 📱 使用方法

### 1. 駐車記録の登録
1. 「📷 カメラ撮影」タブを選択
2. カメラを起動してナンバープレートを撮影
3. 自動的にOCRでナンバープレートを読み取り
4. 駐車位置（1-100番）を選択
5. スタッフID・備考を入力（任意）
6. 「🚗 駐車記録を登録」ボタンで完了

### 2. 駐車場状況の確認
1. 「🅿️ 駐車場状況」タブを選択
2. リアルタイムで駐車状況を確認
3. 駐車スペースをクリックして詳細表示
4. チェックアウト処理も可能

### 3. 履歴・レポート
1. 「📊 履歴・レポート」タブを選択
2. 日付範囲や状態で絞り込み
3. ナンバープレートで検索
4. Excel形式でデータ出力

## 📊 データベース構造

### parking_spots テーブル
- 100台分の駐車スペース管理

### parking_records テーブル
- 駐車記録の詳細情報
- 入庫・出庫時間、駐車時間の自動計算
- 画像ファイルパスの保存

## 🎨 レスポンシブデザイン

スマートフォン、タブレット、PCに対応したレスポンシブデザインで、どのデバイスからでも快適に使用できます。

## 🔧 開発・カスタマイズ

### APIエンドポイント
- `GET /api/parking-spots` - 駐車場状況取得
- `POST /api/parking-records` - 駐車記録追加
- `PUT /api/parking-records/:id/checkout` - チェックアウト
- `GET /api/parking-records` - 履歴取得
- `GET /api/export-excel` - Excel出力

### 環境変数
```bash
PORT=3001  # サーバーポート（デフォルト）
```

## 📝 ライセンス

MIT License

## 🤝 サポート・お問い合わせ

技術的な質問やバグ報告は、GitHubのIssuesまでお願いします。

---

**製作者**: GenSpark AI Developer  
**更新日**: 2024年12月